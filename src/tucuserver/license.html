<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tucuxi License Server</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

<script>	
	function getURLParameter(sParam)
	{
	    var sPageURL = window.location.search.substring(1);
	    var sURLVariables = sPageURL.split('&');
	    for (var i = 0; i < sURLVariables.length; i++) 
	    {
	        var sParameterName = sURLVariables[i].split('=');
	        if (sParameterName[0] == sParam) 
	        {
	            return sParameterName[1];
	        }
	    }
	}
/*
	function log(msg) 
	{
//		alert(msg);
	}

	function checkField(id, name) 
	{
		var field = document.getElementById(id);
		if (field.value === "") {
			field.style.backgroundColor = "red";
			log("The '" + name + "' field is empty");
			return false;
		}
		field.style.backgroundColor = "white";
		return true;
	}

	function validateEmail() 
	{
		var field = document.getElementById("emailId").value;
		var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		if (!re.test(email)) {
			field.style.backgroundColor = "red";
			log("The specified email is not valid");
			return false;
		}
		field.style.backgroundColor = "white";
		return true;
	}
*/
	function init() 
	{
		var ta = document.getElementById("requestId");
		ta.value = decodeURI(decodeURI(getURLParameter("request")));
	}
/*
	function validate() 
	{		
		// Check that no field is empty
		var bOk1 = checkField("firstNameId", "first name");
		var bOk2 = checkField("lastNameId", "last name");
		var bOk3 = checkField("titleId", "title");
		var bOk4 = checkField("companyId", "company");
		var bOk5 = checkField("emailId", "email");
		
		// Check email address

		// Everything is ok, now submit!
		return bOk1 && bOk2 && bOk3 && bOk4 && bOk5;
	}
*/
</script>

</head>

<body onload="init()">

	<div class="container" >
		<br/>
		
		<div class="jumbotron">
			<h1 class="display-3">Tucuxi License Server</h1>
			<p class="lead">Fill the form below to obtain a free 60 days license</p>
			<hr class="my-4">
			<p>Fill all fields below and enter the "request data" generated by Tucuxi before pressing on the Submit button.</p>
		</div>

		<form action="/getLicense.php" method="GET" onsubmit="return validate();">

			<div class="form-group">
	    		<label for="firstNameId">First name</label>
	    		<input type="text" id="firstNameId" name="firstName" class="form-control" required="true" placeholder="Enter your first name"/>
	  		</div>

			<div class="form-group">
	    		<label for="lastNameId">Last name</label>
	    		<input type="text" id="lastNameId" name="lastName" class="form-control" required="true" placeholder="Enter your last name"/>
	  		</div>

			<div class="form-group">
	    		<label for="titleId">Title</label>
	    		<input type="text" id="titleId" name="title" class="form-control" required="true" placeholder="Enter your title"/>
	  		</div>

			<div class="form-group">
	    		<label for="companyId">Company</label>
	    		<input type="text" id="companyId" name="company" class="form-control" required="true" placeholder="Enter the name of your company"/>
	  		</div>

	 		<div class="form-group">
	    		<label for="emailId">Email address</label>
	    		<input type="email" class="form-control" id="emailId" aria-describedby="emailHelp" placeholder="Enter your email address">
	    		<small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
	  		</div>  		

			<div class="form-group">
	    		<label for="requestId">Request data</label>
	    		<textarea id="requestId" name="request" rows=5 class="form-control" required="true"></textarea>
	  		</div>

			<input type="submit" value="Submit" class="btn btn-primary">
		</form>
	</div>

  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
</body>

</html>

