<?xml version="1.0" encoding="UTF-8"?>
<model version='0.6' xsi:noNamespaceSchemaLocation='drugfile.xsd' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>
    <history>
        <revisions>
            <revision>
                <revisionAction>creation</revisionAction>
                <revisionAuthorName>Yann Thoma</revisionAuthorName>
                <institution>HEIG-VD</institution>
                <email>yann.thoma@heig-vd.ch</email>
                <date>2019-05-03</date>
                <comments/>
            </revision>
        </revisions>
    </history>
    <head>
        <drug>
            <atcs>
                <atc>D11AH01</atc>
                <atc>L04AD02</atc>
            </atcs>
            <activeSubstances>
                <activeSubstance>test2analytesErlang</activeSubstance>
            </activeSubstances>
            <drugName>
                <name lang='en'>Tacrolimus</name>
            </drugName>
            <drugDescription>
                <desc lang='en'>To be written.</desc>
            </drugDescription>
            <tdmStrategy>
                <text lang='en'>To be written.</text>
            </tdmStrategy>
        </drug>
        <study>
            <studyName>
                <name lang='en'>Population Pharmacokinetic Modelling and Design of a Bayesian Estimator for Therapeutic Drug Monitoring of Tacrolimus in Lung Transplantation</name>
            </studyName>
            <studyAuthors>Caroline Monchaud, Brenda C. de Winter, Christiane Knoop, Marc Estenne, Martine Reynaud-Gaubert, Christophe Pison, Marc Stern, Romain Kessler, Romain Guillemain, Pierre Marquet and Annick Rousseau</studyAuthors>
            <description>
                <desc lang='en'>To be described.</desc>
            </description>
            <references>
                <reference type='bibtex'>
                    <![CDATA[@Article{Monchaud2012,
                    author="Monchaud, Caroline
                    and de Winter, Brenda C.
                    and Knoop, Christiane
                    and Estenne, Marc
                    and Reynaud-Gaubert, Martine
                    and Pison, Christophe
                    and Stern, Marc
                    and Kessler, Romain
                    and Guillemain, Romain
                    and Marquet, Pierre
                    and Rousseau, Annick",
                    title="Population Pharmacokinetic Modelling and Design of a Bayesian Estimator for Therapeutic Drug Monitoring of Tacrolimus in Lung Transplantation",
                    journal="Clinical Pharmacokinetics",
                    year="2012",
                    month="Mar",
                    day="01",
                    volume="51",
                    number="3",
                    pages="175--186",
                    abstract="Therapeutic drug monitoring of tacrolimus is a major support to patient management and could help improve the outcome of lung transplant recipients, by minimizing the risk of rejections and infections. However, despite the wide use of tacrolimus as part of maintenance immunosuppressive regimens after lung transplantation, little is known about its pharmacokinetics in this population. Better knowledge of the pharmacokinetics of tacrolimus in lung transplant recipients, and the development of tools dedicated to its therapeutic drug monitoring, could thus help improve their outcome.",
                    issn="1179-1926",
                    doi="10.2165/11594760-000000000-00000",
                    url="https://doi.org/10.2165/11594760-000000000-00000"
                    }
                    ]]>
                </reference>
            </references>
        </study>
        <comments/>
    </head>
    <drugModel>
        <drugId>test2analyteserlang</drugId>
        <drugModelId>ch.tucuxi.test.2analytes.erlang</drugModelId>
        <domain>
            <description>
                <desc lang='en'>To be implemented.</desc>
            </description>
            <constraints/>
        </domain>
        <covariates>
            <covariate>
                <covariateId>cysticfibrosis</covariateId>
                <covariateName>
                    <name lang='en'>Cystic fibrosis</name>
                </covariateName>
                <description>
                    <desc lang='en'>Patient suffering a cystic fibrosis</desc>
                </description>
                <unit>-</unit>
                <covariateType>standard</covariateType>
                <dataType>bool</dataType>
                <interpolationType>direct</interpolationType>
                <refreshPeriod>
                    <unit>d</unit>
                    <value>1</value>
                </refreshPeriod>
                <covariateValue>
                    <standardValue>0</standardValue>
                </covariateValue>
                <validation>
                    <errorMessage>
                        <text lang='fr'>To be written</text>
                    </errorMessage>
                    <operation>
                        <softFormula>
                            <inputs>
                                <input>
                                    <id>cysticfibrosis</id>
                                    <type>bool</type>
                                </input>
                            </inputs>
                            <code>
                                <![CDATA[return true;]]>
                            </code>
                        </softFormula>
                        <comments/>
                    </operation>
                    <comments/>
                </validation>
                <comments>
                    <comment lang='en'>To be written</comment>
                </comments>
            </covariate>
            <covariate>
                <covariateId>gene_CYP3A45</covariateId>
                <covariateName>
                    <name lang='en'>CYP3A45</name>
                </covariateName>
                <description>
                    <desc lang='en'>To be written</desc>
                </description>
                <unit>-</unit>
                <covariateType>standard</covariateType>
                <dataType>bool</dataType>
                <interpolationType>direct</interpolationType>
                <refreshPeriod>
                    <unit>d</unit>
                    <value>1</value>
                </refreshPeriod>
                <covariateValue>
                    <standardValue>0</standardValue>
                </covariateValue>
                <validation>
                    <errorMessage>
                        <text lang='fr'>To be written</text>
                    </errorMessage>
                    <operation>
                        <softFormula>
                            <inputs>
                                <input>
                                    <id>gene_CYP3A45</id>
                                    <type>bool</type>
                                </input>
                            </inputs>
                            <code>
                                <![CDATA[return true;]]>
                            </code>
                        </softFormula>
                        <comments/>
                    </operation>
                    <comments/>
                </validation>
                <comments>
                    <comment lang='en'>To be written</comment>
                </comments>
            </covariate>
        </covariates>
        <activeMoieties>
            <activeMoiety>
                <activeMoietyId>test2analyteserlang</activeMoietyId>
                <activeMoietyName>
                    <name lang='en'>Test 2 analytes Erlang</name>
                </activeMoietyName>
                <unit>ug/l</unit>
                <analyteIdList>
                    <analyteId>analyte0</analyteId>
                    <analyteId>analyte1</analyteId>
                </analyteIdList>
                <analytesToMoietyFormula>
                    <hardFormula>sum2</hardFormula>
                    <comments/>
                </analytesToMoietyFormula>
                <targets/>
            </activeMoiety>
        </activeMoieties>
        <analyteGroups>
            <analyteGroup>
                <groupId>group0</groupId>
                <pkModelId>linear.2comp.erlang4.macro</pkModelId>
                <analytes>
                    <analyte>
                        <analyteId>analyte0</analyteId>
                        <unit>ug/l</unit>
                        <molarMass>
                            <value>804.018</value>
                            <unit>g/mol</unit>
                        </molarMass>
                        <description>
                            <desc lang='en'>To be described.</desc>
                        </description>
                        <errorModel>
                            <errorModelType>mixed</errorModelType>
                            <sigmas>
                                <sigma>
                                    <standardValue>1.6</standardValue>
                                </sigma>
                                <sigma>
                                    <standardValue>0.069</standardValue>
                                </sigma>
                            </sigmas>
                            <comments/>
                        </errorModel>
                        <comments/>
                    </analyte>
                </analytes>
                <dispositionParameters>
                    <parameters>
                        <parameter>
                            <parameterId>CL</parameterId>
                            <unit>l/h</unit>
                            <parameterValue>
                                <standardValue>17.5</standardValue>
                                <aprioriComputation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>gene_CYP3A45</id>
                                                <type>bool</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[if (gene_CYP3A45)
                                                tvcl = 17.5 * 1.4;
                                            else
                                                tvcl = 17.5;
                                            return tvcl;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </aprioriComputation>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.537</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>CL shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>CL</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return CL > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>V1</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>136</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.41</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>V1 shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>V1</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return V1 > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>V2</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>529</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>1.26</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>V2 shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>V2</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return V2 > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>Q</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>41.1</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.717</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>Q shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>Q</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return Q > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                    </parameters>
                    <correlations/>
                </dispositionParameters>
            </analyteGroup>
            <analyteGroup>
                <groupId>group1</groupId>
                <pkModelId>linear.2comp.erlang4.macro</pkModelId>
                <analytes>
                    <analyte>
                        <analyteId>analyte1</analyteId>
                        <unit>ug/l</unit>
                        <molarMass>
                            <value>804.018</value>
                            <unit>g/mol</unit>
                        </molarMass>
                        <description>
                            <desc lang='en'>To be described.</desc>
                        </description>
                        <errorModel>
                            <errorModelType>mixed</errorModelType>
                            <sigmas>
                                <sigma>
                                    <standardValue>1.6</standardValue>
                                </sigma>
                                <sigma>
                                    <standardValue>0.069</standardValue>
                                </sigma>
                            </sigmas>
                            <comments/>
                        </errorModel>
                        <comments/>
                    </analyte>
                </analytes>
                <dispositionParameters>
                    <parameters>
                        <parameter>
                            <parameterId>CL</parameterId>
                            <unit>l/h</unit>
                            <parameterValue>
                                <standardValue>7.5</standardValue>
                                <aprioriComputation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>gene_CYP3A45</id>
                                                <type>bool</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[if (gene_CYP3A45)
                                                tvcl = 7.5 * 1.4;
                                            else
                                                tvcl = 7.5;
                                            return tvcl;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </aprioriComputation>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.537</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>CL shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>CL</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return CL > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>V1</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>136</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.41</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>V1 shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>V1</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return V1 > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>V2</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>529</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>1.26</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>V2 shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>V2</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return V2 > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                        <parameter>
                            <parameterId>Q</parameterId>
                            <unit>l</unit>
                            <parameterValue>
                                <standardValue>41.1</standardValue>
                            </parameterValue>
                            <bsv>
                                <bsvType>exponential</bsvType>
                                <stdDevs>
                                    <stdDev>0.717</stdDev>
                                </stdDevs>
                            </bsv>
                            <validation>
                                <errorMessage>
                                    <text lang='fr'>Q shall be positive.</text>
                                </errorMessage>
                                <operation>
                                    <softFormula>
                                        <inputs>
                                            <input>
                                                <id>Q</id>
                                                <type>double</type>
                                            </input>
                                        </inputs>
                                        <code>
                                            <![CDATA[
                                            return Q > 0.0;
                                            ]]>
                                        </code>
                                    </softFormula>
                                    <comments/>
                                </operation>
                                <comments/>
                            </validation>
                            <comments/>
                        </parameter>
                    </parameters>
                    <correlations/>
                </dispositionParameters>
            </analyteGroup>
        </analyteGroups>
        <formulationAndRoutes default='id0'>
            <formulationAndRoute>
                <formulationAndRouteId>id0</formulationAndRouteId>
                <formulation>parenteral solution</formulation>
                <administrationName>asdf</administrationName>
                <administrationRoute>oral</administrationRoute>
                <absorptionModelId>extra</absorptionModelId>
                <dosages>
                    <analyteConversions>
                        <analyteConversion>
                            <analyteId>analyte0</analyteId>
                            <factor>1</factor>
                        </analyteConversion>
                        <analyteConversion>
                            <analyteId>analyte1</analyteId>
                            <factor>1</factor>
                        </analyteConversion>
                    </analyteConversions>
                    <availableDoses>
                        <unit>mg</unit>
                        <default>
                            <standardValue>400</standardValue>
                        </default>
                        <rangeValues>
                            <from>
                                <standardValue>100</standardValue>
                            </from>
                            <to>
                                <standardValue>400</standardValue>
                            </to>
                            <step>
                                <standardValue>100</standardValue>
                            </step>
                        </rangeValues>
                        <fixedValues>
                            <value>600</value>
                            <value>800</value>
                        </fixedValues>
                    </availableDoses>
                    <availableIntervals>
                        <unit>h</unit>
                        <default>
                            <standardValue>24</standardValue>
                        </default>
                        <fixedValues>
                            <value>12</value>
                            <value>24</value>
                        </fixedValues>
                    </availableIntervals>
                    <comments/>
                </dosages>
                <absorptionParameters>
                    <parameterSetAnalyteGroup>
                        <analyteGroupId>group0</analyteGroupId>
                        <absorptionModelId>extra</absorptionModelId>
                        <parameterSet>
                            <parameters>
                                <parameter>
                                    <parameterId>Ktr</parameterId>
                                    <unit>1/h</unit>
                                    <parameterValue>
                                        <standardValue>7.06</standardValue>
                                        <aprioriComputation>
                                            <softFormula>
                                                <inputs>
                                                    <input>
                                                        <id>cysticfibrosis</id>
                                                        <type>bool</type>
                                                    </input>
                                                </inputs>
                                                <code>
                                                    <![CDATA[if (cysticfibrosis)
                                                        tvktr = 7.06 * 0.47;
                                                    else
                                                        tvktr = 7.06;
                                                    return tvktr;
                                                    ]]>
                                                </code>
                                            </softFormula>
                                            <comments/>
                                        </aprioriComputation>
                                    </parameterValue>
                                    <bsv>
                                        <bsvType>exponential</bsvType>
                                        <stdDevs>
                                            <stdDev>0.427</stdDev>
                                        </stdDevs>
                                    </bsv>
                                    <validation>
                                        <errorMessage>
                                            <text lang='fr'>Ktr shall be positive.</text>
                                        </errorMessage>
                                        <operation>
                                            <softFormula>
                                                <inputs>
                                                    <input>
                                                        <id>Ktr</id>
                                                        <type>double</type>
                                                    </input>
                                                </inputs>
                                                <code>
                                                    <![CDATA[return Ktr > 0.0;]]>
                                                </code>
                                            </softFormula>
                                            <comments/>
                                        </operation>
                                        <comments/>
                                    </validation>
                                    <comments/>
                                </parameter>
                                <parameter>
                                    <parameterId>F</parameterId>
                                    <unit>%</unit>
                                    <parameterValue>
                                        <standardValue>1.0</standardValue>
                                    </parameterValue>
                                    <bsv>
                                        <bsvType>none</bsvType>
                                    </bsv>
                                    <validation>
                                        <errorMessage>
                                            <text lang='fr'>F shall be in the interval [0,1].</text>
                                        </errorMessage>
                                        <operation>
                                            <softFormula>
                                                <inputs>
                                                    <input>
                                                        <id>F</id>
                                                        <type>double</type>
                                                    </input>
                                                </inputs>
                                                <code>
                                                    <![CDATA[return (F > 0.0) && (F <= 1.0);]]>
                                                    </code>
                                                </softFormula>
                                                <comments/>
                                            </operation>
                                            <comments/>
                                        </validation>
                                        <comments/>
                                    </parameter>
                                </parameters>
                                <correlations/>
                            </parameterSet>
                        </parameterSetAnalyteGroup>
                        <parameterSetAnalyteGroup>
                            <analyteGroupId>group1</analyteGroupId>
                            <absorptionModelId>extra</absorptionModelId>
                            <parameterSet>
                                <parameters>
                                    <parameter>
                                        <parameterId>Ktr</parameterId>
                                        <unit>1/h</unit>
                                        <parameterValue>
                                            <standardValue>1.06</standardValue>
                                            <aprioriComputation>
                                                <softFormula>
                                                    <inputs>
                                                        <input>
                                                            <id>cysticfibrosis</id>
                                                            <type>bool</type>
                                                        </input>
                                                    </inputs>
                                                    <code>
                                                        <![CDATA[if (cysticfibrosis)
                                                            tvktr = 1.06 * 0.47;
                                                        else
                                                            tvktr = 1.06;
                                                        return tvktr;
                                                        ]]>
                                                    </code>
                                                </softFormula>
                                                <comments/>
                                            </aprioriComputation>
                                        </parameterValue>
                                        <bsv>
                                            <bsvType>exponential</bsvType>
                                            <stdDevs>
                                                <stdDev>0.427</stdDev>
                                            </stdDevs>
                                        </bsv>
                                        <validation>
                                            <errorMessage>
                                                <text lang='fr'>Ktr shall be positive.</text>
                                            </errorMessage>
                                            <operation>
                                                <softFormula>
                                                    <inputs>
                                                        <input>
                                                            <id>Ktr</id>
                                                            <type>double</type>
                                                        </input>
                                                    </inputs>
                                                    <code>
                                                        <![CDATA[return Ktr > 0.0;]]>
                                                    </code>
                                                </softFormula>
                                                <comments/>
                                            </operation>
                                            <comments/>
                                        </validation>
                                        <comments/>
                                    </parameter>
                                    <parameter>
                                        <parameterId>F</parameterId>
                                        <unit>%</unit>
                                        <parameterValue>
                                            <standardValue>1.0</standardValue>
                                        </parameterValue>
                                        <bsv>
                                            <bsvType>none</bsvType>
                                        </bsv>
                                        <validation>
                                            <errorMessage>
                                                <text lang='fr'>F shall be in the interval [0,1].</text>
                                            </errorMessage>
                                            <operation>
                                                <softFormula>
                                                    <inputs>
                                                        <input>
                                                            <id>F</id>
                                                            <type>double</type>
                                                        </input>
                                                    </inputs>
                                                    <code>
                                                        <![CDATA[return (F > 0.0) && (F <= 1.0);]]>
                                                        </code>
                                                    </softFormula>
                                                    <comments/>
                                                </operation>
                                                <comments/>
                                            </validation>
                                            <comments/>
                                        </parameter>
                                    </parameters>
                                    <correlations/>
                                </parameterSet>
                            </parameterSetAnalyteGroup>
                    </absorptionParameters>
                </formulationAndRoute>
            </formulationAndRoutes>
            <timeConsiderations>
                <halfLife>
                    <unit>h</unit>
                    <duration>
                        <standardValue>10</standardValue>
                    </duration>
                    <multiplier>100</multiplier>
                    <comments>
                        <comment lang='en'>To be checked.</comment>
                    </comments>
                </halfLife>
                <outdatedMeasure>
                    <unit>d</unit>
                    <duration>
                        <standardValue>100</standardValue>
                    </duration>
                    <comments>
                        <comment lang='en'>To be checked.</comment>
                    </comments>
                </outdatedMeasure>
            </timeConsiderations>
            <comments/>
        </drugModel>
    </model>
